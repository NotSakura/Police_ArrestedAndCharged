---
title: "Police Arrested and Charges Over the Years"
author: "Shreya Sakura Noskor"
date: 01/22/2024
date-format: long
format: pdf
classoption: abstract
abstract: |
  With rising rates of crime in Toronto, this paper looks at the trend from 2014 to 2022 of the number of arrests made in the city of Toronto. The paper will also connect the trends seen with the current events of the said year and analyse its findings. In the end, the reader will see the various solutions to aid with the rising crime rates in Toronto.
include-in-header: 
  text:
    \renewcommand{\abstractname}{Abstract}
#bibliography: references.bib
---
###################ADD TESTs

# Introduction

Toronto is a booming mega-city with a population of well over 3 million. In recent years there has been increased fear in the city about the rise in crime rates. Crimes ranging from homicide to public disturbance to illegal drug distribution has lead to increased arrests and charges being laid by the Toronto Police. According to major news outlets it seems that Torontonians feel crime rates are much higher than usual, making them feel unsafe in their own homes. 

Fortunatly, the city of toronto compiles the data from 2014 to 2022 with the total number of arrests were made in each ward and what their charges were. A ward is a geographical regional divison, a division created by the city of Toronto to partition the city into managable districts that each have their own represntative to represent them in city hall. There are 44 wards as of 2020. Now each ward has several police departments. When police officers are called to a criminal activity in their wardand they make an arrest they are required to provide reason for that arrest. These are called charges. They can range from damage to person or property, theft, illegal drug abuse and more. As a reminder, arrest is very different from jailed. To be arrested means some one is detained from the scene by police while being jailed means perpretraitor is kept in a confined cell. One can be arrested without being jailed. Other mega cities like Vancouver (CTV news) also seem to be suffereing the same fate of increased crime rates. 

To analyse if Toronto has really had an increase crime rates, this paper will be looking at arrest count from the years 2014 to 2022 and if the trends reflect any political or current events going on in the city. This paper is organised into Introduction, Data, Results, and Discussion/Conclusion. The data section will go through step by step the methods followed to organise and clean the data and the result section will output the same data for quantitative analysis such as looking at trends in terms of numbers. The Discussion section will cover the quaitative analysis of what is going with the data as well as connections for said data. Conclusions will be provided as well.



```{r}
#| echo: false
#| include: false
#| warning: false
#| message: false

#The Access token: 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     (DELETEEEEEE)
# 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

library(knitr)
library(janitor)
library(lubridate)
library(opendatatoronto)
library(tidyverse)
library(readr)
library(dplyr)


##Citation
citation("knitr")
citation("ggplot2")
citation("opendatatoronto")
citation("ggplot2")
citation("ggplot2")
```
# Data
We will be examining in this section how the data was cleaned up in torder to display the desired results accuratly.

First was loading the initial raw data from Open Data Portal provided by the city of Toronto. This data set is titled "Toronto Police Report - Number of Aressted and Charged Person". Data was cleaned and analysed in R (cite) by various helpful packages like, knitr, janitor, lubricate, opendatatoronto, tidyverse, readr, dplyr.

## Contents of Raw Data Set

Can see the different charges. Also notice that each is divided by neighbour hoot so hard to tell if a specific police department is a problem in the crime rates.

## Cleaned Data
how i cleaned the data and the choices i made and why. The Arrest year reoresnts the year and the arrest count represnets the number of person arrested regardless or age, neighbourhood and the type of charge. Hense the unit is number of person. Didn't take average because the average would represnt the average arrest accross the type of assult and under this paper's context it doesn't make. 




```{r}
#| echo: false
## Cleaning the data
toronto_arrested <-
  read_csv(
    "/cloud/project/inputs/data/rawdata_A&CToronto.csv",
    show_col_types = FALSE
  )

toronto_arrested_clean <-
  clean_names(toronto_arrested) |>
  select(arrest_year, arrest_count)

#head(toronto_arrested_clean)
head(toronto_arrested_clean) |> kable()
```



```{r}
#| echo: false
## Now add the years for a cleaner data
data_year <- toronto_arrested_clean |>
  group_by(arrest_year) |>
  summarize(arrest_count = sum(arrest_count))

write_csv(
  x = data_year,
  file = "/cloud/project/outputs/data/TorontoArrestClean.csv"
)

#head(data_year)
data_year |> kable()

```

# Result

## Crime rates graphed

```{r}
#| echo: false
ggplot(data_year, aes(x = arrest_year, y = arrest_count)) +
  geom_bar(stat = "identity") +
  labs(title = "Number of arrests in Toronto (2014-2022)",
       x = "Year",
       y = "Number of Arrested Persons") +
  scale_x_continuous(breaks = seq(min(data_year$arrest_year), max(data_year$arrest_count), by = 1))+
  theme_minimal()

```
We notice from the graph above that there is a steady decline from 2019 to 2021 until 2022 when it pics back up again. --Write numbers--.

## Quantitative Analysis
We will be taking the average rate of change to calulate the rate of change of crime rates for each year. The units are number of crimes/per year

$$
Average\ Rate\ of\ Change = \frac{(\text{number of arrests in year 2})-(\text{number of arrests in year 1})}{(year\ 2)-(year\ 1)}
$$
With this operation we get the following table:
```{r}
#| echo: false


###############TRY THISSS##########
aroc <- diff(data_year$arrest_count) / data_year$arrest_count[-length(data_year$arrest_count)]
x <- c("2014~2015","2015~2016","2016~2017","2017~2018","2018~2019","2019~2020","2020~2021","2021~2022")
aroc_year <- data.frame(year = x, aroc = aroc)

aroc_year |> kable()
```


# Discussion/Conclusion

## Discussion
First we will analyse the graph. From the graph and table(link) it can be seen that the number of arrest count starts of very high in 2014. This it relativly stays the same until 2019 and more evidently in 2020 with #. This data reveals that the decrease was coincidentalyy during covid 19 pandemic. This was time where lockdown and staying home was mandatory or strongly advised. This pandemic striked a fear in Torontotnians hence people could not leave home. This can be a reason as to why the number was so low. From the rate of change table (link_________) we see that the highest rate of chnage is during the years ______.

One may also say that the increase in 911 emergency respontime may cobute to the statistic above. According to CTV news, Toorntonians are not getting the emergency services like security from the toronto police department in time. It is unclear from this data set whether the rise in crime rates influence the responce time or if the slow responce time results in a higher crime rate as police assistance is not there to deescalate a situation leading to larger charges and more arrests. 

Errors and oversights in this test however is that many of the charges were grouped together menaing that the arrest count represnts the total nnumber of arrests accross all chnarges. This means subject small charges such as theft and vandalism gets grouped with subjectivly bigger crimes such as homicide or illegal drug distribution. Another error is that this data doesn't show wether the charges are true or not. This means at the scene a person could have been charged and arrested but later in trial they see that it was a misunderstanding and the person is innocent (cite the police website______). The police still report the arrest but it doesn't increase the crime rate as crime has not been commited in this case. Many of the data sets have theft or property damage as a charge so, this data being inaccurate represenatation of crime rates in Toronto.

##Conclusion
In conclusion, this data set after cleaned up shows the number of arrests made by police in Toronto from year 2014 to 2022. As arrests are made due to charges being brought on person at a scene of crime, this data set contributes to the analysis of the crime rates in Toronto, if not represent it. They effectivly show that current events do infact affect the arrest rates in toronto however events such as budget increases in 2020 to 2022 did not reduce the rate of crime but increase it(link_____).  This was unexpected as the budget presenattion highlighted the fact that they had requested more money to hire more officers to keep the city of Toronto safe. For a future study one that focuses more on district and teh different assult charges may be benificial. The results from said study will help see which heighbourhood is relativly safer than the other and what they are doing differently in order to ensure the safety of Torontonians. With continous increasing population our only solution from this study that effectivly worked has been a lockdown; neither ideal nor welcome again. This means that budgeting is not the only solution but this problem requires more community-municipality cooperation and involvement. 




